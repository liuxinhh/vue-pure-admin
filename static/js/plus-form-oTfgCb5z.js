var He=Object.defineProperty,We=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var ke=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var Ve=(s,o,d)=>o in s?He(s,o,{enumerable:!0,configurable:!0,writable:!0,value:d}):s[o]=d,w=(s,o)=>{for(var d in o||(o={}))Je.call(o,d)&&Ve(s,d,o[d]);if(ke)for(var d of ke(o))Qe.call(o,d)&&Ve(s,d,o[d]);return s},ne=(s,o)=>We(s,Ye(o));var Pe=(s,o,d)=>new Promise((n,r)=>{var b=a=>{try{y(d.next(a))}catch(f){r(f)}},T=a=>{try{y(d.throw(a))}catch(f){r(f)}},y=a=>a.done?n(a.value):Promise.resolve(a.value).then(b,T);y((d=d.apply(s,o)).next())});import{a as S,aF as we,n as J,aX as Le,fk as Xe,p as z,fl as Ze,u as e,cN as xe,d as le,f as t,b as m,a5 as g,W as R,aq as G,aD as el,r as be,fm as Re,ap as x,l as N,w as h,b4 as W,k as $,F as j,c1 as ve,h as Y,t as H,j as _,c3 as _e,B as Be,fn as Oe,i as ee,bB as he,g as ye,v as Ue,cq as ll,a6 as Ce,q as Ee,bQ as ie,b8 as al,bk as ol,bp as tl,bn as sl,bu as ul,bR as rl,c4 as nl,c8 as Ae,c9 as Ne,ce as dl,ck as il,cs as pl,ct as cl,cx as fl,cz as ml,S as L,fo as vl,cr as hl,bF as bl,bM as yl,cw as gl,bN as je,bq as kl,c6 as Vl,d1 as Pl,bh as Cl,s as El,be as Te,bL as Tl,cJ as Se}from"./index-CocNYPzQ.js";import{e as re,i as q,h as Ie,t as Sl,a as Ge,_ as ae,v as Me,j as Il,k as Fe,g as ue,l as Fl,b as te,m as ce,c as de,n as $l,o as Dl,s as wl,f as fe,d as Ll}from"./_plugin-vue_export-helper-BsWdF6TV.js";const me=s=>{re(s)||console.error("Uncaught TypeError: ",`options expected Array but got ${Sl(s)}`)},Rl=s=>{const o=S([]),d=S(!1);if(!s.options)o.value=[],d.value=!0;else if(we(s.options))J(s.options,n=>{o.value=n,d.value=!0},{immediate:!0});else if(re(s.options))o.value=[...s.options],d.value=!0;else if(q(s.options)){const n=s.options,r=n(s);Ie(r)?r.then(b=>{o.value=b,d.value=!0,me(o.value)}).catch(b=>{throw b}):(o.value=r,d.value=!0)}else Ie(s.options)?s.options.then(r=>{o.value=r,d.value=!0,me(o.value)}).catch(r=>{throw r}):(d.value=!0,me(s.options));return{customOptions:o,customOptionsIsReady:d}},_l=s=>(o,d)=>Bl(o,d,e(s)),Bl=(s,o,d)=>xe(d,s,s).replace(/\{(\w+)\}/g,(n,r)=>{var b;return`${(b=o==null?void 0:o[r])!=null?b:`{${r}}`}`}),Ol=s=>{const o=z(()=>e(s).name),d=we(s)?s:S(s);return{lang:o,locale:d,t:_l(s)}},pe=s=>{const o=Le(Xe,S());return Ol(z(()=>o.value||Ze))},Ul=Symbol("tableFormFieldRefInjectionKey"),Al=["datetimerange","daterange","monthrange"],Nl=["rate","input-number","slider"],jl=["checkbox","cascader","plus-date-picker","plus-input-tag","transfer"];var Gl=le({name:"PlusRender",__name:"index",props:{renderType:{default:void 0},callbackValue:{default:""},customFieldProps:{default:()=>({})},render:{},params:{default:()=>({})},handleChange:{}},setup(s){const o=s,d=S();J(()=>o.callbackValue,r=>{d.value=r},{flush:"post",immediate:!0});const n=()=>{if(!o.render)return;const r=w({},o.params),b=o.renderType==="form"?o.render(d.value,o.handleChange,r):o.render(d.value,r);if(el(b)){const T=o.renderType==="form"?w(w({modelValue:d.value},o.customFieldProps),b.props):w(w({},o.customFieldProps),b.props);return ne(w({},b),{props:T})}else if(Ge(b))return b};return(r,b)=>r.renderType==="form"?(t(),m(R(n),g({key:0,modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=T=>d.value=T)},r.customFieldProps),null,16,["modelValue"])):(t(),m(R(n),G(g({key:1},r.customFieldProps)),null,16))}}),Ml=ae(Gl,[["__file","index.vue"]]);const $e=Ml;var ql=le({name:"PlusRadio",__name:"index",props:{modelValue:{type:[String,Number,Boolean],default:""},options:{default:()=>[]},isCancel:{type:Boolean,default:!0},fieldSlots:{default:void 0},fieldChildrenSlot:{default:void 0}},emits:["change","update:modelValue"],setup(s,{expose:o,emit:d}){const n=s,r=d,b=S(),T=S(),y=be({radio:""});J(()=>n.modelValue,c=>{y.radio=c},{immediate:!0});const a=Re(),f=(c,A,i)=>{if(!(Reflect.has(a,"disabled")||i!=null&&i.disabled)){if(n.isCancel)c.preventDefault();else return;y.radio===A?y.radio="":y.radio=A,r("update:modelValue",y.radio),r("change",y.radio)}},V=c=>{n.isCancel||(r("update:modelValue",c),r("change",c))};return o({radioInstance:b,radioGroupInstance:T}),(c,A)=>(t(),m(e(_e),g({ref_key:"radioGroupInstance",ref:T,modelValue:y.radio,"onUpdate:modelValue":A[0]||(A[0]=i=>y.radio=i),class:"plus-radio"},c.$attrs),x({default:h(()=>[e(Me)?(t(!0),$(j,{key:0},N(c.options,i=>(t(),m(e(ve),g({key:`${i.label}${i.value}`,ref_for:!0,ref_key:"radioInstance",ref:b,label:i.value},i.fieldItemProps,{onClick:B=>f(B,i.value,i.fieldItemProps),onChange:B=>V(i.value)}),{default:h(()=>[e(q)(i.fieldSlot)?(t(),m(R(i.fieldSlot),g({key:0,"model-value":y.radio,column:n},i),null,16,["model-value"])):e(q)(c.fieldChildrenSlot)?(t(),m(R(c.fieldChildrenSlot),g({key:1,"model-value":y.radio,column:n},i),null,16,["model-value"])):(t(),$(j,{key:2},[Y(H(i==null?void 0:i.label),1)],64))]),_:2},1040,["label","onClick","onChange"]))),128)):(t(),$(j,{key:1},[_(" element-plus 版本号大于等于2.6.0 "),(t(!0),$(j,null,N(c.options,i=>(t(),m(e(ve),g({key:`${i.label}${i.value}`,ref_for:!0,ref_key:"radioInstance",ref:b,value:i.value},i.fieldItemProps,{onClick:B=>f(B,i.value,i.fieldItemProps),onChange:B=>V(i.value)}),{default:h(()=>[e(q)(i.fieldSlot)?(t(),m(R(i.fieldSlot),g({key:0,"model-value":y.radio,column:n},i),null,16,["model-value"])):e(q)(c.fieldChildrenSlot)?(t(),m(R(c.fieldChildrenSlot),g({key:1,"model-value":y.radio,column:n},i),null,16,["model-value"])):(t(),$(j,{key:2},[Y(H(i==null?void 0:i.label),1)],64))]),_:2},1040,["value","onClick","onChange"]))),128))],64))]),_:2},[N(c.fieldSlots,(i,B)=>({name:B,fn:h(P=>[(t(),m(R(i),G(W(P)),null,16))])}))]),1040,["modelValue"]))}}),zl=ae(ql,[["__file","index.vue"]]);const Kl=zl,Hl={class:"plus-date-picker__middle"};var Wl=le({name:"PlusDatePicker",__name:"index",props:{modelValue:{default:()=>[]},rangeSeparator:{default:"/"},valueFormat:{default:"YYYY-MM-DD HH:mm:ss"},type:{default:"datetime"},startProps:{default:()=>({})},endProps:{default:()=>({})},startDisabledDate:{type:Function,default:(s,o)=>o?s.getTime()>new Date(o).getTime():!1},endDisabledDate:{type:Function,default:(s,o)=>o?s.getTime()<new Date(o).getTime():!1}},emits:["change","focus","update:modelValue"],setup(s,{expose:o,emit:d}){const n=s,r=d,{t:b}=pe(),T=Re(),y=z(()=>w(w({},T),n.startProps)),a=z(()=>w(w({},T),n.endProps)),f=S(),V=S(),c=be({start:"",end:""}),A=S(!1),i=p=>{A.value=!0,r("focus",p)},B=()=>{A.value=!1},P=p=>n.startDisabledDate&&q(n.startDisabledDate)?n.startDisabledDate(p,c.end):!1,I=p=>n.endDisabledDate&&q(n.endDisabledDate)?n.endDisabledDate(p,c.start):!1;J(()=>n.modelValue,p=>{const[K,M]=p;c.start=K,c.end=M},{immediate:!0});const k=()=>{const p=[c.start,c.end];r("update:modelValue",p),r("change",p)};return o({startPickerInstance:f,endPickerInstance:V}),(p,K)=>Be((t(),$("div",{class:Ue(["plus-date-picker",{"is-focus":A.value}])},[ee(e(he),g({ref_key:"startPickerInstance",ref:f,modelValue:c.start,"onUpdate:modelValue":K[0]||(K[0]=M=>c.start=M),type:p.type,"value-format":p.valueFormat,placeholder:e(b)("plus.datepicker.startPlaceholder"),"disabled-date":P,class:"plus-date-picker__start",clearable:""},y.value,{onChange:k,onFocus:i}),null,16,["modelValue","type","value-format","placeholder"]),ye("span",Hl,H(p.rangeSeparator),1),ee(e(he),g({ref_key:"endPickerInstance",ref:V,modelValue:c.end,"onUpdate:modelValue":K[1]||(K[1]=M=>c.end=M),"value-format":p.valueFormat,type:p.type,placeholder:e(b)("plus.datepicker.endPlaceholder"),"disabled-date":I,class:"plus-date-picker__end",clearable:""},a.value,{onChange:k,onFocus:i}),null,16,["modelValue","value-format","type","placeholder"])],2)),[[e(Oe),B]])}}),Yl=ae(Wl,[["__file","index.vue"]]);const Jl=Yl;var Ql=le({name:"PlusInputTag",__name:"index",props:{modelValue:{default:()=>[]},trigger:{default:()=>["blur","enter","space"]},inputProps:{default:()=>({})},tagProps:{default:()=>({})},limit:{default:1/0},formatTag:{type:Function,default:void 0},retainInputValue:{type:Boolean,default:!1}},emits:["update:modelValue","change","remove","blur","enter","space"],setup(s,{expose:o,emit:d}){const n=s,r=d,b=S(),T=S(),y=S(),a=be({tags:[],inputValue:"",isFocus:!1}),{t:f}=pe();J(()=>n.modelValue,P=>{a.tags=P.slice(0,n.limit)},{immediate:!0});const V=()=>{a.isFocus=!1},c=()=>{var P;a.isFocus=!0,(P=b.value)==null||P.focus()},A=P=>{a.tags=a.tags.filter(I=>I!==P),r("remove",P),r("update:modelValue",a.tags),r("change",a.tags)},i=()=>{a.inputValue.trim()&&!a.tags.includes(a.inputValue.trim())&&a.tags.length<n.limit&&a.tags.push(a.inputValue.trim()),n.retainInputValue||(a.inputValue=""),r("update:modelValue",a.tags),r("change",a.tags)},B=(P,I)=>{r(I,a.inputValue,P),(re(n.trigger)?n.trigger:Ge(n.trigger)?[n.trigger]:["blur","enter","space"]).includes(I)&&i()};return o({inputInstance:b,tagInstance:T}),(P,I)=>Be((t(),$("div",{ref_key:"plusInputTagInstance",ref:y,class:Ue(["plus-input-tag",{"is-focus":a.isFocus}]),onClick:c},[(t(!0),$(j,null,N(a.tags,k=>(t(),m(e(ll),g({ref_for:!0,ref_key:"tagInstance",ref:T,key:k,class:"plus-input-tag__tag"},P.tagProps,{closable:"",onClose:p=>A(k)}),{default:h(()=>[Y(H(P.formatTag&&e(q)(P.formatTag)?P.formatTag(k):k),1)]),_:2},1040,["onClose"]))),128)),a.tags.length<P.limit?(t(),m(e(ie),g({key:0,ref_key:"inputInstance",ref:b,modelValue:a.inputValue,"onUpdate:modelValue":I[0]||(I[0]=k=>a.inputValue=k),class:"plus-input-tag__input",placeholder:a.tags.length?"":e(f)("plus.inputTag.placeholder"),disabled:a.tags.length>=P.limit},P.inputProps,{clearable:"",onBlur:I[1]||(I[1]=k=>B(k,"blur")),onKeyup:[I[2]||(I[2]=Ce(Ee(k=>B(k,"enter"),["exact"]),["enter"])),I[3]||(I[3]=Ce(Ee(k=>B(k,"space"),["exact"]),["space"]))]}),null,16,["modelValue","placeholder","disabled"])):_("v-if",!0)],2)),[[e(Oe),V]])}}),Xl=ae(Ql,[["__file","index.vue"]]);const Zl=Xl,qe={"plus-radio":{component:Kl,hasOptions:!0},"plus-date-picker":{component:Jl},"plus-input-tag":{component:Zl},autocomplete:{component:al,props:{placeholder:"plus.field.pleaseEnter"},hasSelectEvent:!0},cascader:{component:ol,hasOptions:!0},checkbox:{component:tl,children:sl,hasVersionCompatibility:!0},"color-picker":{component:ul},"date-picker":{component:he,props:{startPlaceholder:"plus.datepicker.startPlaceholder",endPlaceholder:"plus.datepicker.endPlaceholder"}},"input-number":{component:rl,props:{placeholder:"plus.field.pleaseEnter"}},radio:{component:_e,children:ve,hasVersionCompatibility:!0},rate:{component:nl},select:{component:Ae,children:Ne},slider:{component:dl},switch:{component:il},"time-picker":{component:pl},"time-select":{component:cl},transfer:{component:fl},input:{component:ie,props:{placeholder:"plus.field.pleaseEnter"}},textarea:{component:ie,props:{type:"textarea",placeholder:"plus.field.pleaseEnter"}},"tree-select":{component:ml}},xl=s=>Object.keys(qe).includes(s),se=s=>Reflect.get(qe,s)||{},ea={class:"plus-form-item__label"};var la=le({name:"PlusFormItem",__name:"index",props:{modelValue:{default:""},hasLabel:{default:!0},label:{default:""},prop:{},fieldProps:{default:()=>({})},valueType:{default:void 0},options:{default:()=>[]},formItemProps:{default:()=>({})},renderField:{default:void 0},renderLabel:{default:void 0},tooltip:{default:""},fieldSlots:{default:()=>({})},fieldChildrenSlot:{default:void 0},index:{default:0}},emits:["update:modelValue","change"],setup(s,{expose:o,emit:d}){const n=yl,r=gl,b=je,T=ie,y=Ae,a=Ne,f=s,V=d,{t:c}=pe(),{customOptions:A,customOptionsIsReady:i}=Rl(f),B=S(),P=S(),I=S({}),k=S({}),p=S(),K=S(!1),M=S(!1),u=z(()=>Il(f.label)),F=z(()=>ne(w({},f),{label:u.value})),O=Le(Ul,{}),D=z(()=>{var l,C,E,v,Q,X;return f.valueType==="cascader"&&((C=(l=k.value)==null?void 0:l.props)==null?void 0:C.emitPath)===!1?!1:!!(jl.includes(f.valueType)||f.valueType==="select"&&((E=k.value)==null?void 0:E.multiple)===!0||f.valueType==="date-picker"&&Al.includes((v=k.value)==null?void 0:v.type)||f.valueType==="time-picker"&&((Q=k.value)==null?void 0:Q.isRange)===!0||f.valueType==="tree-select"&&((X=k.value)==null?void 0:X.multiple)===!0)}),U=z(()=>!!Nl.includes(f.valueType)),Z=l=>{if(D.value)if(re(l)){const[C,E]=l;ce(C)||ce(E)?p.value=[String(C),String(E)]:p.value=l}else p.value=[];else U.value?p.value=Number(l):ce(l)?p.value=String(l):p.value=l;M.value=!0},ge=z(()=>{const{hasOptions:l,hasSelectEvent:C,props:E}=se(f.valueType);return w(w(ne(w(w(w({},l?{options:A.value}:null),C?{onSelect:Ke}:null),E),{placeholder:E!=null&&E.placeholder?c(E==null?void 0:E.placeholder)+u.value:c("plus.field.pleaseSelect")+u.value}),f.valueType==="date-picker"?{startPlaceholder:E!=null&&E.startPlaceholder?c(E==null?void 0:E.startPlaceholder):"",endPlaceholder:E!=null&&E.startPlaceholder?c(E==null?void 0:E.endPlaceholder):""}:null),k.value)}),ze=l=>w(w({},f.valueType==="select"?{label:l.label,value:l.value}:Me?{label:l.value}:{label:l.label,value:l.value}),l.fieldItemProps);J(()=>f.formItemProps,l=>{Fe(l,p.value,f,f.index,"formItemProps").then(C=>{I.value=C}).catch(C=>{throw C})},{immediate:!0,deep:!0}),J(()=>f.fieldProps,l=>{Fe(l,p.value,f,f.index,"fieldProps").then(C=>{k.value=C,K.value=!0}).catch(C=>{throw C})},{immediate:!0,deep:!0}),J(z(()=>[f.modelValue,K.value,i.value]),([l,C,E])=>{C&&E&&Z(l)},{immediate:!0,flush:"post"});const oe=l=>{V("update:modelValue",l),V("change",l)},Ke=({value:l})=>{oe(l)};return J(P,()=>{O.value={fieldInstance:P.value,valueIsReady:M}}),o({formItemInstance:B,fieldInstance:P}),(l,C)=>{var E;return M.value?(t(),m(e(n),g({key:0,ref_key:"formItemInstance",ref:B,label:l.hasLabel?u.value:"",prop:l.prop,class:"plus-form-item"},I.value,{"label-width":l.hasLabel?(E=I.value)==null?void 0:E.labelWidth:"0px"}),x({default:h(()=>[l.renderField&&e(q)(l.renderField)?(t(),$(j,{key:0},[M.value?(t(),m(e($e),{key:0,render:l.renderField,params:F.value,"callback-value":p.value,"custom-field-props":k.value,"render-type":"form","handle-change":oe},null,8,["render","params","callback-value","custom-field-props"])):_("v-if",!0)],64)):l.$slots[e(te)(l.prop)]?L(l.$slots,e(te)(l.prop),{key:1,prop:l.prop,label:u.value,fieldProps:k.value,valueType:l.valueType,column:f}):l.valueType==="select"&&k.value.multiple===!0?(t(),m(e(y),g({key:2,ref_key:"fieldInstance",ref:P,modelValue:p.value,"onUpdate:modelValue":C[0]||(C[0]=v=>p.value=v),placeholder:e(c)("plus.field.pleaseSelect")+u.value,class:"plus-form-item-field",clearable:""},k.value,{"onUpdate:modelValue":oe}),x({default:h(()=>[(t(!0),$(j,null,N(e(A),v=>(t(),m(e(a),g({key:v.label,label:v.label,value:v.value},v.fieldItemProps),{default:h(()=>[e(q)(v.fieldSlot)?(t(),m(R(v.fieldSlot),G(g({key:0},v)),null,16)):e(q)(l.fieldChildrenSlot)?(t(),m(R(l.fieldChildrenSlot),G(g({key:1},v)),null,16)):(t(),$(j,{key:2},[Y(H(v.label),1)],64))]),_:2},1040,["label","value"]))),128))]),_:2},[N(l.fieldSlots,(v,Q)=>({name:Q,fn:h(X=>[(t(),m(R(v),G(W(X)),null,16))])}))]),1040,["modelValue","placeholder"])):e(xl)(l.valueType)?(t(),$(j,{key:3},[_(" 统一处理 "),_(" has-children  "),e(se)(l.valueType).children?(t(),m(R(e(se)(l.valueType).component),g({key:0,ref_key:"fieldInstance",ref:P,modelValue:p.value,"onUpdate:modelValue":C[1]||(C[1]=v=>p.value=v),class:"plus-form-item-field",clearable:""},ge.value,{"onUpdate:modelValue":oe}),x({default:h(()=>[(t(!0),$(j,null,N(e(A),v=>(t(),m(R(e(se)(l.valueType).children),g({key:v.label},ze(v)),{default:h(()=>[e(q)(v.fieldSlot)?(t(),m(R(v.fieldSlot),g({key:0,"model-value":p.value,column:F.value},v),null,16,["model-value","column"])):e(q)(l.fieldChildrenSlot)?(t(),m(R(l.fieldChildrenSlot),g({key:1,"model-value":p.value,column:F.value},v),null,16,["model-value","column"])):(t(),$(j,{key:2},[Y(H(v.label),1)],64))]),_:2},1040))),128))]),_:2},[N(l.fieldSlots,(v,Q)=>({name:Q,fn:h(X=>[(t(),m(R(v),g({value:p.value,column:F.value},X),null,16,["value","column"]))])}))]),1040,["modelValue"])):(t(),$(j,{key:1},[_(" no-children  "),(t(),m(R(e(se)(l.valueType).component),g({ref_key:"fieldInstance",ref:P,modelValue:p.value,"onUpdate:modelValue":C[2]||(C[2]=v=>p.value=v),class:"plus-form-item-field",clearable:"","field-children-slot":l.fieldChildrenSlot},ge.value,{"onUpdate:modelValue":oe}),x({_:2},[N(l.fieldSlots,(v,Q)=>({name:Q,fn:h(X=>[(t(),m(R(v),g({"model-value":p.value,column:F.value},X),null,16,["model-value","column"]))])}))]),1040,["modelValue","field-children-slot"]))],2112))],64)):l.valueType==="text"?(t(),m(e(hl),g({key:4,ref_key:"fieldInstance",ref:P,class:"plus-form-item-field"},k.value),{default:h(()=>[Y(H(p.value),1)]),_:1},16)):l.valueType==="divider"?(t(),m(e(bl),g({key:5,ref_key:"fieldInstance",ref:P,class:"plus-form-item-field"},k.value),{default:h(()=>[Y(H(p.value),1)]),_:1},16)):(t(),m(e(T),g({key:6,ref_key:"fieldInstance",ref:P,modelValue:p.value,"onUpdate:modelValue":C[3]||(C[3]=v=>p.value=v),class:"plus-form-item-field",placeholder:e(c)("plus.field.pleaseEnter")+u.value,autocomplete:"off",clearable:""},k.value,{"onUpdate:modelValue":oe}),x({_:2},[N(l.fieldSlots,(v,Q)=>({name:Q,fn:h(X=>[(t(),m(R(v),g({"model-value":p.value,column:F.value},X),null,16,["model-value","column"]))])}))]),1040,["modelValue","placeholder"]))]),_:2},[l.hasLabel?{name:"label",fn:h(({label:v})=>[ye("span",ea,[l.renderLabel&&e(q)(l.renderLabel)?(t(),$(j,{key:0},[M.value?(t(),m(e($e),{key:0,render:l.renderLabel,params:F.value,"callback-value":v,"custom-field-props":k.value},null,8,["render","params","callback-value","custom-field-props"])):_("v-if",!0)],64)):L(l.$slots,e(ue)(l.prop),{key:1,prop:l.prop,label:u.value,fieldProps:k.value,valueType:l.valueType,column:F.value},()=>[Y(H(v),1)]),l.tooltip?(t(),m(e(r),g({key:2,placement:"top"},e(Fl)(l.tooltip)),{default:h(()=>[L(l.$slots,"tooltip-icon",{},()=>[ee(e(b),{class:"plus-table-column__label__icon",size:16},{default:h(()=>[ee(e(vl))]),_:1})])]),_:3},16)):_("v-if",!0)])]),key:"0"}:void 0]),1040,["label","prop","label-width"])):_("v-if",!0)}}}),aa=ae(la,[["__file","index.vue"]]);const oa=aa,ta={key:0,class:"plus-form-item-extra"};var sa=le({name:"PlusFormContent",__name:"form-content",props:{modelValue:{default:()=>({})},hasLabel:{type:Boolean,default:!0},columns:{default:()=>[]},rowProps:{default:()=>({})},colProps:{default:()=>({})}},emits:["update:modelValue","change"],setup(s,{emit:o}){const d=s,n=o,r=S({}),b=a=>{const f=e(a);return $l(f)?f:d.hasLabel};J(()=>d.modelValue,a=>{r.value=a},{immediate:!0});const T=a=>Dl(r.value,a),y=(a,f)=>{wl(r.value,f.prop,a),n("update:modelValue",r.value),n("change",r.value,f)};return(a,f)=>(t(),m(e(Vl),g(a.rowProps,{class:"plus-form__row"}),{default:h(()=>[(t(!0),$(j,null,N(a.columns,V=>(t(),m(e(kl),g({key:V.prop},V.colProps||a.colProps),{default:h(()=>[ee(e(oa),g({"model-value":T(V.prop)},V,{"has-label":b(V.hasLabel),onChange:c=>y(c,V)}),x({_:2},[a.$slots[e(ue)(V.prop)]?{name:e(ue)(V.prop),fn:h(c=>[L(a.$slots,e(ue)(V.prop),G(W(c)))]),key:"0"}:void 0,a.$slots[e(te)(V.prop)]?{name:e(te)(V.prop),fn:h(c=>[L(a.$slots,e(te)(V.prop),G(W(c)))]),key:"1"}:void 0,a.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[L(a.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["model-value","has-label","onChange"]),_(" el-form-item 下一行额外的内容 "),V.renderExtra||a.$slots[e(de)(V.prop)]?(t(),$("div",ta,[V.renderExtra&&e(q)(V.renderExtra)?(t(),m(R(V.renderExtra),G(g({key:0},V)),null,16)):a.$slots[e(de)(V.prop)]?L(a.$slots,e(de)(V.prop),G(g({key:1},V))):_("v-if",!0)])):_("v-if",!0)]),_:2},1040))),128)),_(" 搜索的footer插槽  "),L(a.$slots,"search-footer")]),_:3},16))}}),De=ae(sa,[["__file","form-content.vue"]]);const ua={class:"plus-form__group__item__icon"};var ra=le({name:"PlusForm",inheritAttrs:!1,__name:"index",props:{modelValue:{default:()=>({})},defaultValues:{default:()=>({})},columns:{default:()=>[]},labelWidth:{default:"80px"},labelPosition:{default:"left"},rowProps:{default:()=>({})},colProps:{default:()=>({})},labelSuffix:{default:":"},hasErrorTip:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0},hasLabel:{type:Boolean,default:!0},submitText:{default:""},resetText:{default:""},submitLoading:{type:Boolean,default:!1},footerAlign:{default:"left"},rules:{default:()=>({})},group:{type:[Boolean,Array],default:!1},cardProps:{default:()=>({})}},emits:["update:modelValue","submit","change","reset","submitError"],setup(s,{expose:o,emit:d}){const n=s,r=d,{t:b}=pe(),T=S(null),y=S({}),a=u=>u.filter(F=>e(F.hideInForm)!==!0),f=z(()=>y.value),V=z(()=>({justifyContent:n.footerAlign==="left"?"flex-start":n.footerAlign==="center"?"center":"flex-end"})),c=z(()=>a(n.columns)),A=z(()=>{var u;return re(n.group)?(u=n.group)==null?void 0:u.filter(F=>e(F.hideInGroup)!==!0):n.group}),i=Pl(),B=fe(i,ue()),P=fe(i,te()),I=fe(i,de());J(()=>n.modelValue,u=>{y.value=u},{immediate:!0});const k=(u,F)=>{r("update:modelValue",y.value),r("change",y.value,F)},p=()=>{var u;(u=T.value)==null||u.clearValidate()},K=()=>Pe(this,null,function*(){var u,F,O;try{if(yield(u=T.value)==null?void 0:u.validate())return r("submit",y.value),!0}catch(D){if(n.hasErrorTip){Se.closeAll();const U=Ll(D)&&Object.values(D),Z=U?(O=(F=U[0])==null?void 0:F[0])==null?void 0:O.message:void 0;Se.warning(Z||b("plus.form.errorTip"))}r("submitError",D)}return!1}),M=()=>{p(),y.value=w({},n.defaultValues),r("update:modelValue",y.value),r("reset",y.value)};return o({formInstance:T,handleSubmit:K,handleReset:M}),(u,F)=>(t(),m(e(Tl),g({ref_key:"formInstance",ref:T,rules:u.rules,"label-width":u.hasLabel?u.labelWidth:0,class:["plus-form",u.hasLabel?"":"no-has-label"],"label-position":u.labelPosition,"validate-on-rule-change":!1,"label-suffix":u.hasLabel?u.labelSuffix:""},u.$attrs,{model:f.value}),{default:h(()=>[L(u.$slots,"default",{},()=>[_(" 分组表单 "),A.value?(t(!0),$(j,{key:0},N(A.value,O=>(t(),m(e(Cl),g({key:O.title},O.cardProps||u.cardProps,{class:"plus-form__group__item"}),{header:h(()=>[L(u.$slots,"group-header",{title:O.title,columns:O.columns,icon:O.icon},()=>[ye("div",ua,[O.icon?(t(),m(e(je),{key:0},{default:h(()=>[(t(),m(R(O.icon)))]),_:2},1024)):_("v-if",!0),Y(" "+H(O.title),1)])])]),default:h(()=>[ee(De,{modelValue:y.value,"onUpdate:modelValue":F[0]||(F[0]=D=>y.value=D),"row-props":u.rowProps,"col-props":u.colProps,columns:a(O.columns),onChange:k},x({_:2},[N(e(B),(D,U)=>({name:U,fn:h(Z=>[L(u.$slots,U,G(W(Z)))])})),N(e(P),(D,U)=>({name:U,fn:h(Z=>[L(u.$slots,U,G(W(Z)))])})),N(e(I),(D,U)=>({name:U,fn:h(Z=>[L(u.$slots,U,G(W(Z)))])})),u.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[L(u.$slots,"tooltip-icon")]),key:"0"}:void 0]),1032,["modelValue","row-props","col-props","columns"])]),_:2},1040))),128)):(t(),$(j,{key:1},[_(" 普通表单 "),ee(De,{modelValue:y.value,"onUpdate:modelValue":F[1]||(F[1]=O=>y.value=O),"row-props":u.rowProps,"col-props":u.colProps,columns:c.value,"has-label":u.hasLabel,onChange:k},x({_:2},[N(e(B),(O,D)=>({name:D,fn:h(U=>[L(u.$slots,D,G(W(U)))])})),N(e(P),(O,D)=>({name:D,fn:h(U=>[L(u.$slots,D,G(W(U)))])})),N(e(I),(O,D)=>({name:D,fn:h(U=>[L(u.$slots,D,G(W(U)))])})),u.$slots["search-footer"]?{name:"search-footer",fn:h(()=>[L(u.$slots,"search-footer")]),key:"0"}:void 0,u.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[L(u.$slots,"tooltip-icon")]),key:"1"}:void 0]),1032,["modelValue","row-props","col-props","columns","has-label"])],64))]),u.hasFooter?(t(),$("div",{key:0,class:"plus-form__footer",style:El(V.value)},[L(u.$slots,"footer",G(W({handleReset:M,handleSubmit:K})),()=>[u.hasReset?(t(),m(e(Te),{key:0,onClick:M},{default:h(()=>[_(" 重置 "),Y(" "+H(u.resetText||e(b)("plus.form.resetText")),1)]),_:1})):_("v-if",!0),ee(e(Te),{type:"primary",loading:u.submitLoading,onClick:K},{default:h(()=>[_(" 提交 "),Y(" "+H(u.submitText||e(b)("plus.form.submitText")),1)]),_:1},8,["loading"])])],4)):_("v-if",!0)]),_:3},16,["rules","label-width","class","label-position","label-suffix","model"]))}}),na=ae(ra,[["__file","index.vue"]]);const ca=na;export{ca as P,pe as u};
